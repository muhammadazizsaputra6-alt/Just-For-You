<!DOCTYPE html><html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>For You ‚ù§Ô∏è</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: black;
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
    }
    canvas { display: block; }.intro-text {
  position: absolute;
  width: 100%;
  top: 45%;
  text-align: center;
  color: white;
  font-size: 24px;
  opacity: 1; /* TETAP ADA */
  transition: opacity 2s ease;
}

.intro-hide { opacity: 0; }

.love-text {
  position: absolute;
  width: 100%;
  bottom: 15%;
  text-align: center;
  color: #ff4d6d;
  font-size: 26px;
  opacity: 0;
  transform: translateY(20px);
  transition: all 2s ease;
}

.love-show {
  opacity: 1;
  transform: translateY(0);
}

  </style>
</head>
<body><canvas id="canvas"></canvas>

<div id="intro" class="intro-text">Tunggu sebentar‚Ä¶<br>ada satu hal kecil dari hatiku ü§ç</div>
<div id="loveText" class="love-text">Sejak kamu datang,<br>semuanya terasa lebih berarti ‚ù§Ô∏è</div><script>
const canvas = document.getElementById('canvas');
const ctx = canvas.getContext('2d');

function resize() {
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;
}
resize();
window.addEventListener('resize', resize);

// ================= TIMING =================
const INTRO_DURATION = 6000; // teks awal DIAM 6 detik
const HEART_START = 7000;   // love mulai setelah 7 detik
const TEXT_SHOW = 14000;    // teks akhir muncul

// ================= SPARK (DI TENGAH TEKS) =================
let sparks = [];
function spawnSparks() {
  for (let i = 0; i < 30; i++) {
    sparks.push({
      x: canvas.width / 2,
      y: canvas.height / 2,
      vx: (Math.random() - 0.5) * 2,
      vy: (Math.random() - 0.5) * 2,
      life: 60
    });
  }
}
spawnSparks();

// ================= HEART =================
let drawProgress = 0;
let fillProgress = 0;
let startHeart = false;

setTimeout(() => {
  document.getElementById('intro').classList.add('intro-hide');
}, INTRO_DURATION);

setTimeout(() => startHeart = true, HEART_START);
setTimeout(() => document.getElementById('loveText').classList.add('love-show'), TEXT_SHOW);

function heartPath(limit = Math.PI * 2) {
  ctx.beginPath();
  for (let t = 0; t <= limit; t += 0.01) {
    const x = 16 * Math.pow(Math.sin(t), 3);
    const y = -(13 * Math.cos(t)
      - 5 * Math.cos(2 * t)
      - 2 * Math.cos(3 * t)
      - Math.cos(4 * t));
    ctx.lineTo(x, y);
  }
}

function drawSparks() {
  sparks.forEach(s => {
    ctx.beginPath();
    ctx.arc(s.x, s.y, 2, 0, Math.PI * 2);
    ctx.fillStyle = 'rgba(255,120,160,0.8)';
    ctx.fill();
    s.x += s.vx;
    s.y += s.vy;
    s.life--;
  });
  sparks = sparks.filter(s => s.life > 0);
}

function drawCouple(progress) {
  ctx.save();
  ctx.translate(0, 120);

  // progress 0 ‚Üí jauh, 1 ‚Üí pelukan
  const startX = 140;
  const endX = 40;
  const x = startX - (startX - endX) * progress;

  const bounce = Math.sin(Date.now() * 0.01) * 2;

  // Boneka putih
  ctx.fillStyle = 'white';
  ctx.beginPath(); ctx.arc(-x, 0 + bounce, 14, 0, Math.PI * 2); ctx.fill();
  ctx.beginPath(); ctx.arc(-x, 28 + bounce, 20, 0, Math.PI * 2); ctx.fill();

  // Boneka kuning
  ctx.fillStyle = '#ffd84d';
  ctx.beginPath(); ctx.arc(x, 0 - bounce, 14, 0, Math.PI * 2); ctx.fill();
  ctx.beginPath(); ctx.arc(x, 28 - bounce, 20, 0, Math.PI * 2); ctx.fill();

  // tangan pelukan
  if (progress > 0.7) {
    ctx.strokeStyle = '#ffb6c1';
    ctx.lineWidth = 3;
    ctx.beginPath();
    ctx.moveTo(-20, 30);
    ctx.lineTo(20, 30);
    ctx.stroke();
  }

  ctx.restore();
}

function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  if (!startHeart) {
    drawSparks();
  } else {
    ctx.save();
    ctx.translate(canvas.width / 2, canvas.height / 2 - 40);
    ctx.scale(12, 12);

    if (drawProgress < 1) {
      heartPath(Math.PI * 2 * drawProgress);
      ctx.strokeStyle = 'white';
      ctx.lineWidth = 0.25;
      ctx.stroke();
      drawProgress += 0.005; // DIPERLAMBAT
    } else if (fillProgress < 1) {
      heartPath();
      ctx.fillStyle = '#ff4d6d';
      ctx.globalAlpha = fillProgress;
      ctx.fill();
      fillProgress += 0.005; // DIPERLAMBAT
    } else {
      const pulse = 1 + Math.sin(Date.now() * 0.003) * 0.02;
      ctx.scale(pulse, pulse);
      heartPath();
      ctx.fillStyle = '#ff4d6d';
      ctx.globalAlpha = 1;
      ctx.fill();

      // === CHARACTER ANIMATION ===
      const hugProgress = Math.min(1, (fillProgress - 1) * 0.5 + 0.5);
      drawCouple(hugProgress);
    }
    ctx.restore();
  }

  requestAnimationFrame(animate);
}

animate();


</script></body>
</html>
