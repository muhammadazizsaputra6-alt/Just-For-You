<!DOCTYPE html>
<html>
<head>
  <title>Mini Minecraft 2D</title>
  <style>
    body { margin:0; background:#87ceeb }
    canvas { display:block; margin:auto; background:#87ceeb }
  </style>
</head>
<body>

<canvas id="game"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");
canvas.width = 800;
canvas.height = 400;

const tile = 40;
const map = [
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
  [1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]
];

let player = { x:100, y:200, w:30, h:30, dy:0 };

function drawMap(){
  for(let y=0;y<map.length;y++){
    for(let x=0;x<map[y].length;x++){
      if(map[y][x]==1){
        ctx.fillStyle="#654321";
        ctx.fillRect(x*tile,y*tile,tile,tile);
      }
    }
  }
}

function drawPlayer(){
  ctx.fillStyle="red";
  ctx.fillRect(player.x,player.y,player.w,player.h);
}

function update(){
  ctx.clearRect(0,0,canvas.width,canvas.height);

  player.dy += 1;
  player.y += player.dy;

  if(player.y + player.h > 3*tile){
    player.y = 3*tile - player.h;
    player.dy = 0;
  }

  drawMap();
  drawPlayer();
  requestAnimationFrame(update);
}

document.addEventListener("keydown", e=>{
  if(e.key=="a") player.x -= 10;
  if(e.key=="d") player.x += 10;
  if(e.key=="w" && player.dy==0) player.dy = -15;
});

update();
</script>

</body>
</html>
